安全-资讯
2018年网络安全行业大事记
2018年是各类网络安全事件陡增的一年，随着攻击性和防御性技术层出不穷，群众、企业甚至国家面临的攻击规模和复杂程度都在不断增加。
回首过去一年，数据泄露、网络攻击、黑客组织活动、安全漏洞曝光、恶意软件、行业政策、市场活动及融资收购等各个方面均出现爆发式增长，云安全在世界范围内占据了中心位置。
https://www.anquanke.com/post/id/168990

当局要求印度的社交网络使用微软的PhotoDNA扫描所有图片
微软的PhotoDNA是一种指纹识别工具，通过预先筛选用户上传的内容，帮助在线服务清除虐待儿童的图像。
PhotoDNA创建图像的独特数字签名（称为“散列”），然后将其与其他照片的签名（散列）进行比较，以查找同一图像的副本。当与包含先前识别的非法图像的哈希的数据库匹配时，PhotoDNA是一种令人难以置信的工具，可帮助检测，破坏和报告儿童剥削材料的分布。
据报道，据印度中央调查局要求社交网络开始使用该工具扫描他们的用户照片集，该技术目前正在印度引发争议。然而，似乎CBI正在请求社交网络找到可能在其集合中没有滥用的特定图片，这是该工具不适合的。
根据CrPC第91节的要求，附有一系列照片，声明：“为了调查，您需要对照片进行PhotoDNA，CBI要求社交媒体公司使用侵入式照片技术跟踪随附的嫌疑人。为了调查目的，非常迫切需要这些信息。“
“如果任何警察或调查机构正在使用PhotoDNA进行一般性犯罪调查，则严重违反了该技术的预期目的，这仅用于检查儿童性虐待案件。这是监视和审查的滑坡，“互联网自由基金会执行主任阿帕尔古普塔说。
https://mspoweruser.com/social-networks-in-india-reportedly-asked-to-scan-all-their-pictures-using-microsofts-photodna/

零信任”的产品化
“零信任”正在成为安全领域的流行语，传统的以外围为中心的战略无法捍卫先进的威胁。我们现在看到许多公司，从当前的市场领导者到初创企业，推广各种“零信任”解决方案，但在研究技术细节时，有些公司会感到困惑，因为这些解决方案可能没什么共同之处。可以肯定的是，“零信任”不是仅仅用于营销的另一种行话，而是传统安全模型的替代甚至革命，在这里我们将从应用概念和构建的角度总结和阐明它的含义。新产品或解决方案。
首先，我们应该理解“零信任”概念实际上有两个不同的起源。Forrester Analyst John Kindervag于2010年推出了“零信任”模型，要求改变网络安全方面的思维，以解决网络内部的威胁。Forrester模型用于动态构建和保护公司网络中的网络分段，每个网络分段用于特定功能和集中管理。同时，Google在2011年启动了BeyondCorp项目，以解决移动和云技术的采用问题，攻击者可以相对轻松地访问公司的特权内联网。凭借享有特权企业网络的理念，Google BeyondCorp项目将所有企业应用程序移至互联网，并仅基于设备状态和用户凭证强制执行细粒度访问控制。由于公司的特权内联网传统上被认为是安全和可信的，BeyondCorp方法在吸引更多关注时也被称为“零信任”。
虽然“零信任”的两个起源是完全不同的，并且导致产品和解决方案甚至不是很接近，但它们基本上共享相同的概念：我们过去信任的边界不再可靠。基于周边的安全性基于物理世界中经过验证的模型，而受信任的内部网络和不受信任的外部网络之间的界限通常非常清晰 - 正如Forrester Research所表明的那样。虽然像VPN这样的技术可能会模糊这条线，但我们认为它基本上处于控制之中，直到最近我们必须承认现实：内部网络与外部网络之间不再有明确的界限，这就是BeyondCorp我们的情况。从移动和云的新趋势看到合作应用中的挑战，内部网络不安全，因此不应再受信任，
两个“零信任”场景是互补的，并且两者都是未来完整企业解决方案所必需的，因此应该结合起来。
https://www.sec-un.org/the-productization-of-zero-trust/

Let's Encrypt 2019：保持强劲增长 并带来振奋人心的新功能
作为倍受欢迎的安全证书颁发机构，在座的各位对 Let’s Encrypt 应该不会陌生。如今的互联网越来越不安全，各种地下黑产盛行，个人隐私不断被暴露，垃圾短信和骚扰电话接踵而来，互联网安全成为了我们最关心，同时也是最“无能为力”的心头之事。但你是否知道，我们越来越强调保护使用互联网的安全性和用户的个人隐私，背后是什么在支撑呢？
如今很多网站都强制使用 HTTPS 加密协议访问，安全性有了很大的提高，最起码在数据传输的初始阶段 —— 数据包不会被劫持，保证了客户端与服务器端的通讯安全性。
说到 HTTPS 加密协议，就不得不提 Let’s Encrypt。Let’s Encrypt 是一家不以盈利为目的提供免费 CA 证书的机构，它旨在让全世界所有的互联网服务能够简单自动化部署加密协议，让 HTTPS 能够在所有的网站中普及。很多著名公司对其提供赞助，比如 Facebook、思科和 Mozilla 等。它是对 ACME(automated certificate management environment) 协议的实现，只要实现了 ACME 协议的客户端都可以跟它交互。
SSL 证书用于加密两点之间的数据，例如你的网络浏览器和一个网络服务器。大多数需要处理敏感信息的网站，如银行、在线商店和其他网站都需要使用 SSL 加密来保护用户通过互联网传输的数据。通常，如果网站需要支持 HTTPS 协议，网站管理员则要从 SSL 证书供应商处购买 SSL 证书，Let's Encrypt 除外。
https://t.cj.sina.com.cn/articles/view/1772191555/69a17f4301900d8h2

聪明的AI隐藏信息，以便稍后在指定的任务中作弊
人工学习已经提升到智能水平，使其能够隐藏可能在以后使用的信息。
谷歌和斯坦福大学的研究人员发现，一名被指派负责将航拍图像转换成地图的机器学习代理人隐藏了信息，其目的是随后作弊。
在最初的结果中，任务代理被认为是令人信服的，但之后当它的任务是逆转从地图重建航空照片的整个过程时，它显示的信息在初始过程中被忽略。
为了说明，在生成街道地图时，屋顶上的天窗将被消除。但是，当代理人被分配过程的逆转时，他们会重新出现。
CycleGAN是一种神经网络，用于将图片从一个域传输到另一个域。虽然探究任何神经网络的工作机制是相当艰巨的，但研究人员审核了神经网络产生的数据。
进一步确定机器学习代理人没有能力从图像转换地图或反过来; 它获得了将一个特征精确地编码到另一个的噪声模式中的知识。
从表面上看，这种行为可能传达出机器磨砺其天才并扩展其能力的印象，但事实并非如此。在这里，机器代理无法执行转换图像类型的艰巨任务，并发现了一种欺骗人类无法轻易检测到的方法。
http://www.ehackingnews.com/2019/01/clever-ai-hides-information-to-cheat.html

越南的新网络法威胁言论自由
越南政府通过了一项全新的网络安全法，批评者声称该法将帮助一党制国家继续打击言论自由。
该法律将迫使像Facebook和谷歌这样的互联网公司在该国开设办事处，在当地存储用户数据，并允许当局要求访问这些数据。
社交网站将被迫删除任何被视为“有毒”的内容 - 有效地让当局免费进行在线审查。
企业现在有12个月的时间来遵守6月份通过的新法规。
然而，在该国拥有数千万活跃用户，Facebook等理论上可能会推迟 - 尤其是在河内需要全球互联平台的帮助下，这是其不断努力将越南变成东南亚技术中心的一部分。
“在这个国家深受压抑的气候中，网络空间是一个相对的避难所，人们可以去分享想法和意见，而不必担心当局的谴责。6月份国际特赦组织全球运营总监克莱尔·阿尔加（Clare Algar）表示，凭借其强大的权力，它授权政府监督在线活动，这意味着现在越南没有安全的地方供人们自由发言。
“只有科技公司与政府要求交出私人数据，这项法律才有效。这些公司不应该成为侵犯人权行为的一方，我们敦促他们利用他们拥有的相当大的权力，就这一倒退立法挑战越南政府。“
这项立法使越南与像中国这样的压制性一党制国家保持一致，中国的审查制度非常有效。
https://www.infosecurity-magazine.com/news/vietnams-new-cyber-law-threatens/


黑客-事件
起底游戏、会员代充背后的洗钱之术，你可能是“帮凶”
马某几个月时间获利2800多万元，他看着买来的一辆辆宾利、保时捷，终于有种扬眉吐气的感觉。
时间：12月18日
地点：上海
事件：上海警方抓获马某及相关犯罪分子6人
阿培和阿辉共同经营着一家代充工作室，日营业额高达20万元，年入超500万的躺赚，因为他们“上面有人”。
时间：12月
地点：浙江嘉兴
事件：浙江警方破获代充网络黑客案，抓获犯罪分子69人
这两起案件一个在上海，一个在嘉兴，看起来并无瓜葛，但深入研究下来，我们发现它们之间有一丝微妙的关系。甚至，通过这两起案件，可以一窥黑产利益链网络，各方势力盘根错节，利益环环相扣，令人唏嘘。
https://www.freebuf.com/articles/database/193052.html

数据泄露——维多利亚州政府雇员详情外泄
据ABC 1月1日报道，不知名政党下载了部分维多利亚州政府名录后，3万名维多利亚州公务员工作详情数据遭窃。 
这个给政府员工使用的名录包含工作电邮、职称以及工作电话号码。 
受此次数据泄露事件影响的员工通过邮件被告知，在通讯录上的员工的电话号码可能也已外泄。 
电邮称，“此事件后，你可能会遭受更多来自电邮和电话的网络钓鱼攻击、垃圾电邮及社交工程攻击。” 
“通常而言，你应当重视这些风险，并对这些通过电邮及电话号码传播的垃圾通信保持警惕。” 
工作人员被告知称，此次数据泄露事件并未影响银行及财务信息。 
墨尔本大学网络安全和隐私研究员Suelette Dreyfus表示，尽管目前似乎并无非常个人及敏感数据外泄，数据集作为一个整体可能会被用于更有针对性的攻击。 
Dreyfus博士表示，“若将小段数据汇总为数据集，你便可获知整个州政府的形象，因为由此你可了解所有不同的人、其位置、电话号码……而且，你还可推测出权力中心的位置，以及你应有针对性的入侵何人的电邮。” 
她表示，数据集对任何试图影响政府决策的人都很有价值。 
她说:“无论是为了赢得一份合同而进行的商业活动，还是因为你是一个可能有利益的国际国有企业——无论是在金融方面还是在政策方面——所有这些类型的人都可以从实际上被黑客窃取的信息中获益。”
总理府表示已将该泄露事件移交警方、澳大利亚网络安全中心和维多利亚州信息专员办公室调查。 
该部门的发言人声明道，“为防止再次发生此类数据泄露事件，政府将妥善处理所有调查所得。”
https://www.easyaq.com/news/520548145.shtml

黑客从Electrum钱包中偷走了价值750,000美元的比特币
2018年针对加密货币行业的加密货币钱包和组织的最新攻击打击了流行的Electrum钱包。
黑客打了Electrum比特币钱包并偷走了200多比特币，超过75万美元。袭击始于12月21，2018年和黑客利用了2018年初解决的一个关键漏洞。
攻击者利用该漏洞利用流氓Electrum服务器为不知情的用户生成并显示弹出窗口。
建议用户下载并安装紧急安全更新。
Electrum Bitcoin钱包不会下载完整的区块链，而是由服务器远程提供信息。
攻击者将恶意服务器添加到钱包网络中，并在每次用户尝试执行比特币交易时推出消息。黑客设置了一个  GitHub页面，并要求用户下载并安装实际上是恶意软件的安全更新。
安装完成后，恶意代码会提示用户输入2FA身份验证码，以便他们接管钱包并窃取 该 比特币。
黑客使用了33个虚假服务器，专家认为他们可以使用类似的技术，然后Electrum的开发人员才会修补这个问题。
该攻击实际上已停止，GitHub页面已被删除。
https://securityaffairs.co/wordpress/79398/hacking/electrum-wallets-hack.html


工具-脚本
MISP - 恶意软件信息共享平台和威胁共享
MISP是一种开源软件解决方案，用于收集，存储，分发和共享网络安全指标以及有关网络安全事件分析和恶意软件分析的威胁。MISP由事件分析师，安全和ICT专业人员或恶意软件反向器设计，以支持他们的日常运营，以有效地共享结构化信息。
MISP的目标是促进安全社区和国外的结构化信息共享。MISP提供支持信息交换的功能，但也提供网络入侵检测系统（NIDS），LIDS以及日志分析工具SIEM对信息的消费。
https://github.com/MISP/MISP

GSIL（GitHub敏感信息泄漏）


最新-漏洞
在32位平台上构建的核心FTP 2.0版本653中的服务器允许远程攻击者通过精心设计的XRMD命令导致拒绝服务(守护进程崩溃)。
https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-20658

ExtCommon.dll中的一个漏洞。Xplatform ActiveX的dll用户扩展模块版本9.2、9.2.1、9.2.2允许攻击者执行命令注入攻击。该漏洞是由于命令参数输入验证不足造成的。精心设计的恶意参数可能导致执行任意命令
https://cve.mitre.org/cgi-bin/cvename.cgi?name=CVE-2018-5197

Facebook Proxygen HTTP2 Parser 安全漏洞
Facebook Proxygen是美国Facebook公司的一套开源的C++HTTP类库。HTTP2 Parser是其中的一个HTTP2（超文本传输协议2.0）解析器。
Facebook Proxygen 2018.12.31.00之前版本的HTTP2 Parser中对headers/trailers的处理过程存在安全漏洞。攻击者可利用该漏洞造成拒绝服务。
http://www.cnnvd.org.cn/web/xxk/ldxqById.tag?CNNVD=CNNVD-201812-1321

Facebook Proxygen 安全漏洞
Facebook Proxygen是美国Facebook公司的一套开源的C++HTTP类库。
Facebook Proxygen 2018.12.31.00之前版本中对无效HTTP2优先级设置处理的过程存在安全漏洞。攻击者可利用该漏洞造成拒绝服务。
http://www.cnnvd.org.cn/web/xxk/ldxqById.tag?CNNVD=CNNVD-201812-1320

百度WebUploader组件存在文件上传漏洞
WebUploader是由Baidu WebFE(FEX)团队开发的一个简单的以HTML5为主，FLASH为辅的现代文件上传组件。
百度WebUploader组件存在文件上传漏洞。该漏洞是由于WebUploader组件上传页面对文件类型或文件扩展名过滤不严所致，攻击者可利用漏洞直接上传或简单绕过限制上传脚本文件，执行系统命令，获取网站服务器权限。
http://www.cnvd.org.cn/flaw/show/CNVD-2018-26054

Google Android Qualcomm组件缓冲区溢出漏洞（CNVD-2019-00124）
Android是美国谷歌（Google）公司和开放手持设备联盟（简称OHA）共同开发的一套以Linux为基础的开源操作系统。Qualcomm MDSS是其中的一个多媒体显示子系统。
Android中的Qualcomm MDSS组件存在缓冲区溢出漏洞。攻击者可利用该漏洞造成内存破坏。
http://www.cnvd.org.cn/flaw/show/CNVD-2019-00124

Google Android Qualcomm组件权限提升漏洞（CNVD-2019-00122）
Android on Google Pixel和Nexus是美国谷歌（Google）公司和开放手持设备联盟（简称OHA）共同开发的一套运行于Google Pixel和Nexus（智能手机）中并以Linux为基础的开源操作系统。Qualcomm Diag driver是其中的一个日志系统驱动程序。
Google Pixel和Nexus设备上的Android中的Qualcomm Diag驱动程序存在权限提升漏洞。目前没有详细的漏洞细节提供。
http://www.cnvd.org.cn/flaw/show/CNVD-2019-00122

wget实用程序可能通过扩展文件系统属性泄露密码
包含GNU的开发人员 wget的 应用程序中的实用程序必须使用在节礼日发布的新版本。
GNU Wget是一个免费软件包，用于使用HTTP，HTTPS，FTP检索文件和FTPS是最广泛使用的Internet协议。这是一个非互动的命令行 工具，因此可以很容易地从脚本调用， cron的 作业，没有X-Windows支持的终端等.GNU Wget有许多功能可以轻松地检索大文件或镜像整个Web或FTP站点。
该缺陷被跟踪为CVE-2018-20483，可以通过读取属性来允许本地用户获取敏感信息（例如，URL中包含的凭证）。
安全研究员Gynvael Coldwind（@voltagex）发现存储的属性可以包括用户用户名和密码。
https://seclists.org/oss-sec/2019/q1/0


安全-研究
Windows 0day任意文件读取漏洞POC分析
12月20日，国外安全研究员 SandboxEscaper又一次在推特上公布了新的Windows 0 day漏洞细节及PoC，点击查看详情。这是2018年8月开始该研究员公布的第三个windows 0 day漏洞。此次披露的漏洞可造成任意文件读取。该漏洞可允许低权限用户或恶意程序读取目标Windows主机上任意文件的内容，但不可对文件进行写入操作。从放出的POC代码看，在微软官方补丁发布之前，所有windows用户都将受此漏洞影响。
漏洞本质
Time of Check Versus Time of Use （TOCTOU）
TOCTOU原理
该漏洞主要原理为应用运行的过程中，在某个操作之前，比如读文件，都会检查一下文件是否存在与是否具有权限，在检查与真正的读取之间的间隔就是一个可以被利用的竞争条件（Race Condition），在这个间隔中我们可以将需要越权读取的文件替换成自己的文件，使其检查过程通过，这样就可以越权读取其他用户的文件。
漏洞原因
当调用MsiAdvertiseProduct这个函数时会导致windows安装服务复制一个文件，在复制文件时我们可以通过TOCTOU的攻击方式控制传进MsiAdvertiseProductA的第一个参数，将该参数在检查通过后被替换成我们实际需要读取的文件，达到越权的效果
https://www.freebuf.com/vuls/192876.html

子域名接管：二阶漏洞利用
最近，我在琢磨着扩展一下我的自动漏洞挖掘引擎。我的第一个想法就是将二阶漏洞加入到我的子域名接管扫描过程中。在本文中，我会讲解我是如何解决这个问题的，并且如何更加高效的完成这个自动化的扫描过程。关于这个主题，其实有一篇文章已经讲的很不错了，文章链接在这里，但我觉得还有些东西需要补充一下。
当网站在错误的地方使用“可接受的域名”时，就容易出现子域名二次利用漏洞。假如网站引用了外部域的JavaScript文件，当这个域名存在子域名接管漏洞时会发生什么？当JavaScript文件不可用时(比如域已经过期)，这时浏览器就会加载失败，而且不易察觉。如果不是因为该JavaScript文件对网站功能极其重要（比如实时聊天功能）的话，管理员可能都注意不到网站的行为有什么异常。我们可以注册这个域名，并且放上我们自己的JavaScript文件，写入一个xss payload。这是一个经典的子域名接管案例，我在之前的文章中已经分析过了，文章链接在这里。下图解释了这个xss流程：
现在可以将提取到的域转发到子域接管验证引擎中。之前我在一篇文章中介绍过如何创建一个子域接管引擎。这个过程应该能够识别更高层次的子域名接管漏洞。完整的代码已经放在我的GitHub上了。
这些漏洞并不常见，很不好找。在我的挖洞生涯中我只遇到过一次。不过，由于这个漏洞挖掘过程可以很轻易地实现自动化，所以把这个加入到你的自动化工作中也就是小事一桩了。没准以后运气好的话能够捡到一个漏洞呢。
http://www.4hou.com/web/15504.html

价值5000美金基于keybase缺陷的Linux提权漏洞
9.png是一个开源公钥库，用于提供端对端的加密的通讯协作服务。8.png是一个运行权限为root的二进制文件。而且8.png会使用相对路径调用fusermount命令，这其中就涉及到$PATH的值。作者经过研究发现，本地低权限用户可通过更改$PATH的值来诱导8.png以root权限执行攻击者自定义的恶意文件。
近期，hackerone公开了这个基于8.png的提权漏洞，发现者获得了5000美金的奖励。
环境
CentOS Linux release 7.4.1708 (Core)3.10.0-693.17.1.el7.x86_64
利用步骤
第一步，展示低权限用户user1
第二步，编写一个自定义创建文件的脚本fusermount.c。这个脚本将以root身份创建/w00t目录，当然它也可以行任意命令
第三步，编译fusermount.c，输出为fusermount二进制文件，恶意替代正常的fusermount命令
第四步，/w00t文件夹原先并不存在第五步，在path环境变量前面加上一个点（相当于当前目录），然后执行8.png，它就会以root权限执行恶意的fusermount二进制文件。 
第六步，输入control+c，中断应用
第七步，现在/w00t文件夹已存在
影响
这个漏洞可非法提升攻击者权限到root，会影响系统的机密性、完整性和可用性。
https://nosec.org/home/detail/2131.html

区块链安全—整数溢出原理分析
最近在对区块链漏洞进行一些代码研究，在实例复现以及竞赛题目的研究中，我发现整数溢出是现在区块链比较火的漏洞之一。但是整数漏洞的技术难度并不大，容易理解。但是它常常出现在Solidity代码中，容易被攻击者利用。
本篇文章中，我们就针对整数溢出漏洞进行原理上的分析，并对部分实例以及竞赛题目进行线上实验，并提出一些预防措施。
在介绍整数溢出漏洞前，我们需要先简单介绍一下Solidity中的部分语法知识。
在solidity中，我们知道在变量类型中有int/uint（变长的有符号与无符号整形）类型。这类变量支持以8递增，支持从uint8到uint256，以及int8到int256。而需要我们注意的时，uint与int默认表示uint256与int256 。
我们知道，无符号整形是计算机编程中一种数值类型，其只能表示非负数（0以及正数）。然而有符号整形(int)可以表示任何规定范围内的整数。
有符号整数能够表示负数的代价是能够存储正数的范围缩小，因为其约一半的数值范围需要表示负数。如：uint8的存储范围为0~255，然而int8的范围为-127~127.
如果用二进制表示的话：
uint8 ：0b00000000 ~ 0b1111111 每一位都存储相关内容，其范围为0~255 。
int8 ：0b1111111 ~ 0b0111111 最左边一位表示符号，1表示为负数，0表示为正，范围为 -127~127 。
而整数溢出的概念是什么呢？我们来看一个简单的例子：
https://xz.aliyun.com/t/3737
